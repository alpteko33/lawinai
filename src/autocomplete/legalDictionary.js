// Basit hukuk odaklı autocomplete sözlüğü
// Mantık: Kullanıcının imleç öncesindeki son kelime parçasını (fragment) alırız.
// Aşağıdaki hedef ifadelerden birine prefix olarak uyuyorsa, hedefin kalan kısmını öneririz.

const DICTIONARY = [
  // Kullanıcının verdiği örnekler
  { target: 'Mahkeme' },
  { target: 'talep ederim.' },
  { target: 'saygılarımla talep ederim.' },
  { target: 'vekalet' },

  // Yaygın dilekçe ibareleri (genişletilmiş ~100+)
  { target: 'Davacı' },
  { target: 'Davalı' },
  { target: 'Müvekkil' },
  { target: 'Vekil' },
  { target: 'Vekaleten' },
  { target: 'Avukat' },
  { target: 'T.C.' },
  { target: 'TC Kimlik No:' },
  { target: 'T.C. Kimlik No:' },
  { target: 'Adres:' },
  { target: 'Konu:' },
  { target: 'Dava Konusu:' },
  { target: 'Talep ve Sonuç:' },
  { target: 'SONUÇ VE İSTEM:' },
  { target: 'AÇIKLAMALAR:' },
  { target: 'Olaylar:' },
  { target: 'Deliller:' },
  { target: 'Hukuki Sebepler:' },
  { target: 'Hukuki Dayanak:' },
  { target: 'Yargıtay Kararı' },
  { target: 'Emsal Karar' },
  { target: 'Uyuşmazlık' },
  { target: 'Görevli mahkeme' },
  { target: 'Yetkili mahkeme' },
  { target: 'Görevli ve yetkili mahkeme' },
  { target: 'Husumet' },
  { target: 'Faiz' },
  { target: 'Yasal faiz' },
  { target: 'Avans faizi' },
  { target: 'Temerrüt' },
  { target: 'Temerrüt tarihi' },
  { target: 'İhtarname' },
  { target: 'Tebligat' },
  { target: 'Tebligat Kanunu' },
  { target: 'Usulüne uygun' },
  { target: 'HMK' },
  { target: 'TBK' },
  { target: 'TMK' },
  { target: 'TTK' },
  { target: 'İİK' },
  { target: 'İcra Müdürlüğü' },
  { target: 'İcra Dosyası No:' },
  { target: 'Esas No:' },
  { target: 'Karar No:' },
  { target: 'Dosya No:' },
  { target: 'Tensip' },
  { target: 'Tensip zaptı' },
  { target: 'Duruşma' },
  { target: 'Ara karar' },
  { target: 'Gerekçeli karar' },
  { target: 'Hüküm' },
  { target: 'Hüküm altına alınmasına' },
  { target: 'Usul ve yasaya uygun' },
  { target: 'Haksız fiil' },
  { target: 'Sözleşme' },
  { target: 'Sözleşmenin feshi' },
  { target: 'Fesih' },
  { target: 'Haklı nedenle fesih' },
  { target: 'Haksız nedenle fesih' },
  { target: 'Tazminat' },
  { target: 'Maddi tazminat' },
  { target: 'Manevi tazminat' },
  { target: 'Yargılama giderleri' },
  { target: 'Vekalet ücretinin tahsiline' },
  { target: 'Vekâlet ücretinin tahsiline' },
  { target: 'Bilirkişi' },
  { target: 'Bilirkişi raporu' },
  { target: 'Keşif' },
  { target: 'Keşif yapılmasına' },
  { target: 'Tanık' },
  { target: 'Tanık beyanları' },
  { target: 'Islah' },
  { target: 'Islah dilekçesi' },
  { target: 'Davanın kabulü' },
  { target: 'Davanın reddi' },
  { target: 'Davanın konusuz kalması' },
  { target: 'İhtiyati tedbir' },
  { target: 'İhtiyati haciz' },
  { target: 'Tedbir' },
  { target: 'Haciz' },
  { target: 'Tahliye' },
  { target: 'Tahliye talepli' },
  { target: 'Kira' },
  { target: 'Kira bedeli' },
  { target: 'Kira alacağı' },
  { target: 'Tahliye ve alacak' },
  { target: 'Boşanma' },
  { target: 'Velayet' },
  { target: 'Nafaka' },
  { target: 'Yoksulluk nafakası' },
  { target: 'İştirak nafakası' },
  { target: 'Tedbir nafakası' },
  { target: 'Mal rejimi' },
  { target: 'Ziynet eşyaları' },
  { target: 'Katkı payı alacağı' },
  { target: 'Değer artış payı' },
  { target: 'Tapu iptal ve tescil' },
  { target: 'Kamulaştırmasız el atma' },
  { target: 'Miras' },
  { target: 'Muris' },
  { target: 'Tereke' },
  { target: 'Mirasın reddi' },
  { target: 'Vasiyetname' },
  { target: 'Tenfiz' },
  { target: 'Tanıma ve tenfiz' },
  { target: 'İptal ve iade' },
  { target: 'İptal' },
  { target: 'İade' },
  { target: 'Menfi tespit' },
  { target: 'İstirdat davası' },
  { target: 'İtirazın iptali' },
  { target: 'İtirazın kaldırılması' },
  { target: 'Ödeme emri' },
  { target: 'Takip talebi' },
  { target: 'Takibin iptali' },
  { target: 'Takibin durdurulması' },
  { target: 'Hükmün icrası' },
  { target: 'Feragat' },
  { target: 'Kabul' },
  { target: 'Sulh' },
  { target: 'Yetki itirazı' },
  { target: 'Görevsizlik' },
  { target: 'Yetkisizlik' },
  { target: 'Derdestlik' },
  { target: 'Kesin hüküm' },
  { target: 'Delil tespiti' },
  { target: 'İnceleme' },
  { target: 'Bilirkişi ücreti' },
  { target: 'Yargılama harçları' },
  { target: 'Harçlar Kanunu' },
  { target: 'Zamanaşımı' },
  { target: 'Hak düşürücü süre' },
  { target: 'İhtirazı kayıtla' },
  { target: 'Def’i' },
  { target: 'İlk itiraz' },
  { target: 'Esasa cevap' },
  { target: 'Cevap dilekçesi' },
  { target: 'Dava dilekçesi' },
  { target: 'Duruşma günü' },
  { target: 'Tebliğ' },
  { target: 'Tebellüğ' },
  { target: 'Mazeret' },
  { target: 'Mazeret dilekçesi' },
  { target: 'Vekaletname' },
  { target: 'Asıl suret' },
  { target: 'Onanmış örnek' },
  { target: 'Ekte sunulan' },
  { target: 'Ekler:' },
  { target: 'Karşı dava' },
  { target: 'Birleştirme' },
  { target: 'Ayrılma' },
  { target: 'Ön inceleme' },
  { target: 'Tahkikat' },
  { target: 'Sözlü yargılama' },
  { target: 'Hüküm fıkrası' },
  { target: 'Gerekçe' },
  { target: 'Bilirkişi seçimi' },
  { target: 'Görevlendirilmesine' },
  { target: 'İsticvap' },
  { target: 'Yemin' },
  { target: 'Uzlaşma' },
  { target: 'Arabuluculuk' },
  { target: 'Zorunlu arabuluculuk' },
  { target: 'Arabuluculuk son tutanağı' },
  { target: 'Arabuluculuk anlaşma belgesi' },
  { target: 'Dava şartı' },
  { target: 'Ön şart' },
  { target: 'Usul ekonomisi' },
  { target: 'Davetiye' },
  { target: 'Müzekkere' },
  { target: 'Mütalaa' },
  { target: 'Savunma hakkı' },
  { target: 'Hakkaniyet' },
  { target: 'Hakkın kötüye kullanılması' },
  { target: 'Menfaati ihlal' },
  { target: 'Hukuka aykırılık' },
  { target: 'Düzeltilmesine' },
  { target: 'Kaldırılmasına' },
  { target: 'Bozulmasına' },
  { target: 'Onanmasına' },
  { target: 'Temyiz' },
  { target: 'İstinaf' },
  { target: 'Bölge Adliye Mahkemesi' },
  { target: 'Yargıtay' },
  { target: 'Karar düzeltme' },
  { target: 'Kesinleşme şerhi' },
  { target: 'Vekil aracılığıyla' },
  { target: 'Vekâletname örneği' },
  { target: 'Aslı gibidir' },
  { target: 'Uygulamaya konulmasına' },
  { target: 'Mühür ve imza' },

  // Kurum / Mahkeme / Teşkilat adları
  { target: 'Anayasa Mahkemesi' },
  { target: 'Yargıtay 3. Hukuk Dairesi' },
  { target: 'Yargıtay 4. Hukuk Dairesi' },
  { target: 'Yargıtay 9. Hukuk Dairesi' },
  { target: 'Yargıtay 11. Hukuk Dairesi' },
  { target: 'Yargıtay Ceza Genel Kurulu' },
  { target: 'Yargıtay Hukuk Genel Kurulu' },
  { target: 'Danıştay' },
  { target: 'Danıştay İdari Dava Daireleri Kurulu' },
  { target: 'Bölge Adliye Mahkemesi' },
  { target: 'Bölge İdare Mahkemesi' },
  { target: 'Asliye Hukuk Mahkemesi' },
  { target: 'Asliye Ticaret Mahkemesi' },
  { target: 'Asliye Ceza Mahkemesi' },
  { target: 'Ağır Ceza Mahkemesi' },
  { target: 'Sulh Hukuk Mahkemesi' },
  { target: 'Sulh Ceza Hâkimliği' },
  { target: 'İş Mahkemesi' },
  { target: 'Aile Mahkemesi' },
  { target: 'Tüketici Mahkemesi' },
  { target: 'İdare Mahkemesi' },
  { target: 'Vergi Mahkemesi' },
  { target: 'Kadastro Mahkemesi' },
  { target: 'Fikri ve Sınai Haklar Hukuk Mahkemesi' },
  { target: 'Fikri ve Sınai Haklar Ceza Mahkemesi' },
  { target: 'İcra Dairesi' },
  { target: 'İcra Ceza Mahkemesi' },
  { target: 'Nöbetçi Mahkeme' },
  { target: 'Hakimler ve Savcılar Kurulu' },
  { target: 'Adalet Bakanlığı' },
  { target: 'Türkiye Barolar Birliği' },
  { target: 'Baro Başkanlığı' },
  { target: 'Noterlik' },
  { target: 'UYAP' },
  { target: 'MERNİS' },
  { target: 'KEP adresi' },
  { target: 'PTT' },
  { target: 'Sosyal Güvenlik Kurumu' },
  { target: 'Gelir İdaresi Başkanlığı' },
  { target: 'Türkiye Cumhuriyet Merkez Bankası' },

  // Kanun kısaltmaları ve mevzuat
  { target: 'AYM' },
  { target: 'AİHS' },
  { target: 'Anayasa' },
  { target: 'HMK m.' },
  { target: 'CMK m.' },
  { target: 'TCK m.' },
  { target: 'TMK m.' },
  { target: 'TBK m.' },
  { target: 'TTK m.' },
  { target: 'İİK m.' },
  { target: 'KVKK m.' },
  { target: 'İSK m.' },
  { target: 'MK m.' },
  { target: 'BK m.' },
  { target: 'İYUK m.' },
  { target: 'KHK' },
  { target: 'Genelge' },
  { target: 'Yönetmelik' },
  { target: 'Tebliğ' },

  // Sayılı Kanun ibareleri
  { target: '6098 sayılı Türk Borçlar Kanunu' },
  { target: '6100 sayılı Hukuk Muhakemeleri Kanunu' },
  { target: '4721 sayılı Türk Medeni Kanunu' },
  { target: '5271 sayılı Ceza Muhakemesi Kanunu' },
  { target: '5237 sayılı Türk Ceza Kanunu' },
  { target: '6102 sayılı Türk Ticaret Kanunu' },
  { target: '2004 sayılı İcra ve İflas Kanunu' },
  { target: '2577 sayılı İdari Yargılama Usulü Kanunu' },
  { target: '6502 sayılı Tüketicinin Korunması Hakkında Kanun' },
  { target: '4857 sayılı İş Kanunu' },
  { target: '5510 sayılı Sosyal Sigortalar ve Genel Sağlık Sigortası Kanunu' },
  { target: '5580 sayılı Özel Öğretim Kurumları Kanunu' },
  { target: '2918 sayılı Karayolları Trafik Kanunu' },
  { target: '6698 sayılı Kişisel Verilerin Korunması Kanunu' },

  // Usul ibareleri / duruşma / işlem kalıpları
  { target: 'Ön inceleme duruşması' },
  { target: 'Tahkikat aşaması' },
  { target: 'Sözlü yargılama aşaması' },
  { target: 'Duruşma tutanağı' },
  { target: 'Duruşma zaptı' },
  { target: 'Esasa ilişkin' },
  { target: 'Usule ilişkin' },
  { target: 'Hukuki dinlenilme hakkı' },
  { target: 'Delil bildirimi' },
  { target: 'Delil listesi' },
  { target: 'Tanık listesi' },
  { target: 'Bilirkişi ücreti avansı' },
  { target: 'Posta gider avansı' },
  { target: 'Masraf avansı' },
  { target: 'Müzekkere yazılmasına' },
  { target: 'Müzekkere cevabı' },
  { target: 'Tebligat mazbatası' },
  { target: 'Tebligat parçası' },
  { target: 'Tebligatın iadesi' },
  { target: 'Beyanlarımızın dikkate alınmasına' },
  { target: 'Savunmalarımızın kabulüne' },
  { target: 'Karşı tarafın iddialarının reddine' },
  { target: 'Dava şartı yokluğu' },
  { target: 'Husumet yokluğu' },
  { target: 'Islah harcı' },
  { target: 'Eksik harcın ikmali' },
  { target: 'Harç tamamlanmasına' },
  { target: 'Harç iadesi' },
  { target: 'Dava değeri' },
  { target: 'Artırılmış dava değeri' },
  { target: 'Taleplerimizin kabulü ile' },
  { target: 'Derhal beraat' },
  { target: 'Hükmün açıklanmasının geri bırakılması' },
  { target: 'Erteleme' },
  { target: 'Adli para cezası' },
  { target: 'Hükmün infazı' },
  { target: 'İnfaz savcılığı' },
  { target: 'İlamlı icra' },
  { target: 'İlamsız icra' },
  { target: 'Örnek 7' },
  { target: 'Örnek 13' },
  { target: 'Örnek 14' },
  { target: 'Örnek 16' },
  { target: 'Örnek 18' },
  { target: 'İmza sirküleri' },
  { target: 'Sicil kayıtları' },
  { target: 'Vergi levhası' },
  { target: 'Müvekkil lehine' },
  { target: 'Müvekkil aleyhine' },
  { target: 'Davalı yan' },
  { target: 'Davacı yan' },
  { target: 'Karşı yan' },
  { target: 'Karşı delil' },
  { target: 'Beyana karşı beyan' },
  { target: 'Süre verilmesine' },
  { target: 'Süre talebi' },
  { target: 'Mazeretin kabulüne' },
  { target: 'Mazeretin reddine' },
  { target: 'Derdestlik itirazı' },
  { target: 'Kesin hüküm itirazı' },
  { target: 'Yetki sözleşmesi' },
  { target: 'Tahkim şartı' },
  { target: 'Arabuluculuk son tutanağı' },
  { target: 'Anlaşmama son tutanağı' },
  { target: 'Anlaşma belgesi' },
  { target: 'Dava şartı arabuluculuk' },
  { target: 'İhtiyati tedbir talebi' },
  { target: 'İhtiyati haciz talebi' },
  { target: 'Menkul' },
  { target: 'Gayrimenkul' },
  { target: 'Tapu kaydı' },
  { target: 'Kroki' },
  { target: 'Bilirkişi incelemesi' },
  { target: 'Uzman görüşü' },
  { target: 'Uzlaştırma' },
  { target: 'Uzlaşma tutanağı' },
  { target: 'Gider avansı' },
  { target: 'Islah dilekçesi sunulmasına' },
  { target: 'Ek delil' },
  { target: 'Ek süre' },
  { target: 'Duruşma gününün tebliğine' },
  { target: 'Vekile tebligat' },
  { target: 'Müddei' },
  { target: 'Müdafi' },
  { target: 'Katılan' },
  { target: 'Sanık' },
  { target: 'Şikayetçi' },
  { target: 'Suç duyurusu' },
  { target: 'Kovuşturmaya yer olmadığı kararı' },
  { target: 'Takipsizlik kararı' },
  { target: 'İddianame' },
  { target: 'Ek savunma' },
  { target: 'Maddi gerçeğin ortaya çıkarılması' },
  { target: 'Dosya kapsamı' },
  { target: 'Dosya muhtevası' },
  { target: 'Usul ve yasaya aykırı' },
  { target: 'Usul yönünden' },
  { target: 'Esas yönünden' },
  { target: 'Savunma hakkının kısıtlanması' },
  { target: 'Hakkaniyet gereği' },
  { target: 'Bilirkişiden ek rapor' },
  { target: 'Raporlar arasındaki çelişki' },
  { target: 'Çelişkinin giderilmesi' },
  { target: 'Bağımsız ve tarafsız' },
  { target: 'Makul süre' },
  { target: 'Gecikmesinde sakınca bulunan hâl' },
  { target: 'Karine' },
  { target: 'Delil serbestisi' },
  { target: 'İspat yükü' },
  { target: 'Kuvvetli delil' },
  { target: 'Yeterli şüphe' },
  { target: 'Kanaatimizce' },
  { target: 'Arz ve talep olunur.' },
  { target: 'Gereğini arz ederim.' },
  { target: 'Gereğinin yapılmasını saygıyla arz ve talep ederim.' },
];

const WORD_RE = /[A-Za-zÇĞİÖŞÜçğıöşü]+$/u;

export function findFragmentAtPrefix(prefix = '') {
  const match = String(prefix).match(WORD_RE);
  return match ? match[0] : '';
}

export function matchDictionarySuggestion({ prefix, suffix }) {
  const fragment = findFragmentAtPrefix(prefix || '');
  if (!fragment || fragment.length < 2) return null; // çok kısa parçalar için önerme

  const fragLower = fragment.toLowerCase();
  for (const entry of DICTIONARY) {
    const target = entry.target;
    if (!target) continue;
    const lower = target.toLowerCase();
    if (lower.startsWith(fragLower) && target.length > fragment.length) {
      // Öneri: hedefin fragment'ten sonrası
      const remainder = target.substring(fragment.length);
      return { fragment, target, remainder };
    }
  }
  return null;
}

export default { matchDictionarySuggestion, findFragmentAtPrefix };


